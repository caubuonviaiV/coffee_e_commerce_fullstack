import{D as u,E as l,o as d,f as c,b as e,e as y,i as a,B as n,H as b,F as h,G as x,a as p,w as _,v,d as w,t as k}from"./app-Bm5g5IQi.js";import{s as P,Q as F,a as C}from"./index-D9bSXuQz.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const U={components:{FileUpload:P,QuillEditor:F,Toast:C},data(){return{categories:[],product:{name:"",description:"",category_id:"",price:0,price_sale:0,status:!1,images:[]}}},mounted(){this.fetchCategories()},methods:{fetchCategories(){u.get("/api/product_categories").then(o=>{this.categories=o.data}).catch(o=>{console.error("Error fetching categories",o)})},handleFiles(o){this.product.images=Array.from(o.target.files)},async InsertProduct(){const o=new FormData;o.append("name",this.product.name),o.append("description",this.product.description),o.append("category_id",this.product.category_id),o.append("price",this.product.price),o.append("price_sale",this.product.price_sale),o.append("status",this.product.status),this.product.images.forEach(t=>{o.append("images[]",t)});try{const t=await u.post("/api/products",o,{headers:{"Content-Type":"multipart/form-data"}});this.$toast.success("Product created successfully"),this.product={name:"",description:"",category_id:"",price:0,price_sale:0,status:!1,images:[]}}catch(t){console.error("Error adding product:",t),this.$toast.error("Failed to create product")}}}},L={id:"createProductModal",tabindex:"-1","aria-hidden":"true",class:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] md:h-full"},V={class:"relative p-4 w-full max-w-3xl h-full"},D={class:"relative p-4 bg-white rounded-lg shadow sm:p-5"},E=e("div",{class:"flex justify-between items-center pb-4 mb-4 rounded-t border-b sm:mb-5"},[e("h3",{class:"text-lg font-semibold text-gray-900"}," Add Product "),e("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-toggle":"createProductModal"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})]),e("span",{class:"sr-only"},"Close modal")])],-1),T={class:"grid gap-4 mb-4 sm:grid-cols-2"},I=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900"},"Product Name",-1),S=e("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Category",-1),z=e("option",{selected:""},"Select category",-1),A=["value"],G=e("label",{for:"price",class:"block mb-2 text-sm font-medium text-gray-900"},"Price",-1),N=e("label",{for:"price_sale",class:"block mb-2 text-sm font-medium text-gray-900"},"Price sale",-1),j={class:"sm:col-span-2 mb-6"},B=e("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900"},"Description",-1),Q={class:"mb-4"},q=e("span",{class:"block mb-2 text-sm font-medium text-gray-900"},"Product Images",-1),H={class:"card"},J=e("span",null,"SVG, PNG, JPG or GIF (MAX. 800x400px).",-1),X={class:"flex items-center mb-4"},K=e("label",{for:"status",class:"ml-2 text-sm text-gray-500"},"Display",-1),O=e("div",{class:"items-center space-y-4 sm:flex sm:space-y-0 sm:space-x-4"},[e("button",{type:"submit",class:"w-full sm:w-auto justify-center text-white inline-flex bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Add product "),e("button",{"data-modal-toggle":"createProductModal",type:"button",class:"w-full justify-center sm:w-auto text-gray-500 inline-flex items-center bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10"},[e("svg",{class:"mr-1 -ml-1 w-5 h-5",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})]),w(" Discard ")])],-1);function R(o,t,W,Y,s,i){const m=l("QuillEditor"),g=l("Toast"),f=l("FileUpload");return d(),c("div",L,[e("div",V,[e("div",D,[E,e("form",{onSubmit:t[6]||(t[6]=y((...r)=>i.InsertProduct&&i.InsertProduct(...r),["prevent"]))},[e("div",T,[e("div",null,[I,a(e("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":t[0]||(t[0]=r=>s.product.name=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Type product name",required:""},null,512),[[n,s.product.name]])]),e("div",null,[S,a(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>s.product.category_id=r),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},[z,(d(!0),c(h,null,x(s.categories,r=>(d(),c("option",{key:r.id,value:r.id},k(r.name),9,A))),128))],512),[[b,s.product.category_id]])]),e("div",null,[G,a(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=r=>s.product.price=r),name:"price",id:"price",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"20.0000 đ",required:""},null,512),[[n,s.product.price]])]),e("div",null,[N,a(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=r=>s.product.price_sale=r),name:"price_sale",id:"price_sale",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"20.0000 đ",required:""},null,512),[[n,s.product.price_sale]])]),e("div",j,[B,p(m,{content:s.product.description,"onUpdate:content":t[4]||(t[4]=r=>s.product.description=r),contentType:"html",theme:"snow"},null,8,["content"])])]),e("div",Q,[q,e("div",H,[p(g),p(f,{name:"images[]",id:"product.images",ref:"fileUpload",url:"/api/upload",multiple:!0,accept:"image/*",maxFileSize:3e6,onInput:i.handleFiles},{empty:_(()=>[J]),_:1},8,["onInput"])])]),e("div",X,[a(e("input",{id:"status","onUpdate:modelValue":t[5]||(t[5]=r=>s.product.status=r),type:"checkbox",class:"w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 focus:ring-2"},null,512),[[v,s.product.status]]),K]),O],32)])])])}const re=M(U,[["render",R]]);export{re as default};
