import{m as r,E as a,o as w,c as x,w as c,D as g,b as t,e as B,a as l,d}from"./app-Bm5g5IQi.js";import{M,_ as y,a as v}from"./mdb.es.min-DPNfjLme.js";import{L as V}from"./Index-BfhsCJ__.js";import{E as D}from"./ErrorMessage-Ca5XFEdV.js";import{u as C}from"./index-D8ehHb0j.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const E={components:{MDBInput:M,MDBCheckbox:y,MDBBtn:v,Layout:V,ErrorMessage:D},setup(){const i=r(""),o=r(""),m=r(!1),e=r(""),u=C();return{email:i,password:o,remember:m,errorMessage:e,login:async()=>{try{const s=await g.post("/api/login",{email:i.value,password:o.value,remember:m.value});s.data.status?(u.success("Đăng nhập thành công!"),localStorage.setItem("authToken",s.data.token),g.defaults.headers.common.Authorization=`Bearer ${s.data.token}`,window.location.href="/checkout"):e.value="Tài khoản hoặc mật khẩu không đúng!"}catch(s){console.error("Login error:",s),e.value="Đã xảy ra lỗi trong quá trình đăng nhập. Vui lòng thử lại sau."}}}}},I={class:"vh-100"},T={class:"container-fluid h-custom"},j={class:"row d-flex justify-content-center align-items-center h-100"},N=t("div",{class:"col-md-9 col-lg-6 col-xl-5"},[t("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp",class:"img-fluid",alt:"Sample image"})],-1),S={class:"col-md-8 col-lg-6 col-xl-4 offset-xl-1"},U=t("div",{class:"d-flex justify-content-between align-items-center"},[t("a",{href:"#",class:"text-body"},"Quên mật khẩu?")],-1),P={class:"small fw-bold mt-2 pt-1 mb-0"};function q(i,o,m,e,u,_){const s=a("ErrorMessage"),p=a("MDBInput"),f=a("MDBCheckbox"),h=a("MDBBtn"),b=a("router-link"),k=a("Layout");return w(),x(k,null,{content:c(()=>[t("section",I,[t("div",T,[t("div",j,[N,t("div",S,[t("form",{onSubmit:o[3]||(o[3]=B((...n)=>e.login&&e.login(...n),["prevent"]))},[l(s,{message:e.errorMessage},null,8,["message"]),l(p,{type:"email",label:"Email",id:"email",modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=n=>e.email=n),wrapperClass:"mb-4"},null,8,["modelValue"]),l(p,{type:"password",label:"Mật khẩu",id:"password",modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=n=>e.password=n),wrapperClass:"mb-4"},null,8,["modelValue"]),l(f,{label:"Lưu mật khẩu",id:"remember",modelValue:e.remember,"onUpdate:modelValue":o[2]||(o[2]=n=>e.remember=n),wrapperClass:"d-flex justify-content-between align-items-center"},null,8,["modelValue"]),U,l(h,{color:"primary",block:"",class:"btn btn-primary btn-block mb-4",type:"submit"},{default:c(()=>[d(" Login ")]),_:1}),t("p",P,[d(" Bạn chưa có tài khoản "),l(b,{to:"/register",class:"link-danger"},{default:c(()=>[d("Đăng ký")]),_:1})])],32)])])])])]),_:1})}const J=L(E,[["render",q]]);export{J as default};
