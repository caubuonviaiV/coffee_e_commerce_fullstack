import{D as u,E as c,o as l,f as d,b as e,i as a,B as n,H as f,F as b,G as x,a as p,w as _,v as h,e as v,d as w,t as k}from"./app-Bm5g5IQi.js";import{s as F,Q as P,a as U}from"./index-D9bSXuQz.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const C={components:{FileUpload:F,QuillEditor:P,Toast:U},data(){return{categories:[],product:{name:"",description:"",category_id:"",price:0,price_sale:0,status:!1,images:[]}}},mounted(){this.fetchCategories()},methods:{fetchCategories(){u.get("/api/product_categories").then(o=>{this.categories=o.data}).catch(o=>{console.error("Error fetching categories",o)})},handleFiles(o){this.product.images=Array.from(o.target.files)},async InsertProduct(){const o=new FormData;o.append("name",this.product.name),o.append("description",this.product.description),o.append("category_id",this.product.category_id),o.append("price",this.product.price),o.append("price_sale",this.product.price_sale),o.append("status",this.product.status),this.product.images.forEach(t=>{o.append("images[]",t)});try{const t=await u.post("/api/products",o,{headers:{"Content-Type":"multipart/form-data"}});this.$toast.success("Product created successfully"),this.product={name:"",description:"",category_id:"",price:0,price_sale:0,status:!1,images:[]}}catch(t){console.error("Error adding product:",t),this.$toast.error("Failed to create product")}}}},E={class:"py-8 px-4 mx-auto max-w-2xl lg:py-16"},M=e("h2",{class:"mb-4 text-xl font-bold text-gray-900"}," Add a new product ",-1),T={class:"grid gap-4 mb-4 sm:grid-cols-2"},D=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900"},"Product Name",-1),I=e("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Category",-1),S=e("option",{selected:""},"Select category",-1),A=["value"],G=e("label",{for:"price",class:"block mb-2 text-sm font-medium text-gray-900"},"Price",-1),L=e("label",{for:"price_sale",class:"block mb-2 text-sm font-medium text-gray-900"},"Price sale",-1),N={class:"sm:col-span-2 mb-6"},B=e("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900"},"Description",-1),Q={class:"mb-4"},q=e("span",{class:"block mb-2 text-sm font-medium text-gray-900"},"Product Images",-1),z={class:"card"},j=e("span",null,"SVG, PNG, JPG or GIF (MAX. 800x400px).",-1),H={class:"flex items-center mb-4"},J=e("label",{for:"status",class:"ml-2 text-sm text-gray-500"},"Display",-1),X=e("div",{class:"items-center space-y-4 sm:flex sm:space-y-0 sm:space-x-4"},[e("button",{type:"submit",class:"w-full sm:w-auto justify-center text-white inline-flex bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Add product "),e("button",{"data-modal-toggle":"createProductModal",type:"button",class:"w-full justify-center sm:w-auto text-gray-500 inline-flex items-center bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10"},[e("svg",{class:"mr-1 -ml-1 w-5 h-5",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})]),w(" Huỷ ")])],-1);function K(o,t,O,R,s,i){const m=c("QuillEditor"),g=c("Toast"),y=c("FileUpload");return l(),d("div",E,[M,e("form",{onSubmit:t[6]||(t[6]=v((...r)=>i.InsertProduct&&i.InsertProduct(...r),["prevent"]))},[e("div",T,[e("div",null,[D,a(e("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":t[0]||(t[0]=r=>s.product.name=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Type product name",required:""},null,512),[[n,s.product.name]])]),e("div",null,[I,a(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>s.product.category_id=r),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},[S,(l(!0),d(b,null,x(s.categories,r=>(l(),d("option",{key:r.id,value:r.id},k(r.name),9,A))),128))],512),[[f,s.product.category_id]])]),e("div",null,[G,a(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=r=>s.product.price=r),name:"price",id:"price",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"20.0000 đ",required:""},null,512),[[n,s.product.price]])]),e("div",null,[L,a(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=r=>s.product.price_sale=r),name:"price_sale",id:"price_sale",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"20.0000 đ",required:""},null,512),[[n,s.product.price_sale]])]),e("div",N,[B,p(m,{content:s.product.description,"onUpdate:content":t[4]||(t[4]=r=>s.product.description=r),contentType:"html",theme:"snow"},null,8,["content"])])]),e("div",Q,[q,e("div",z,[p(g),p(y,{name:"images[]",id:"product.images",ref:"fileUpload",url:"/api/upload",multiple:!0,accept:"image/*",maxFileSize:3e6,onInput:i.handleFiles},{empty:_(()=>[j]),_:1},8,["onInput"])])]),e("div",H,[a(e("input",{id:"status","onUpdate:modelValue":t[5]||(t[5]=r=>s.product.status=r),type:"checkbox",class:"w-4 h-4 bg-gray-100 border-gray-300 rounded text-primary-600 focus:ring-primary-500 focus:ring-2"},null,512),[[h,s.product.status]]),J]),X],32)])}const ee=V(C,[["render",K]]);export{ee as default};
